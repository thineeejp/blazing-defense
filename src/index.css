@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {

  /* グラスモーフィズムパネル - 軽度 */
  .glass-light {
    @apply backdrop-blur-md bg-slate-900/40 border border-white/10 shadow-lg;
  }

  /* グラスモーフィズムパネル - 中度 */
  .glass-medium {
    @apply backdrop-blur-md bg-slate-900/60 border border-white/20 shadow-xl;
  }

  /* グラスモーフィズムパネル - 強度 */
  .glass-heavy {
    @apply backdrop-blur-xl bg-slate-900/80 border-2 border-white/30 shadow-2xl;
  }

  /* Shimmer Animation */
  @keyframes shimmer-slide {
    0% {
      left: -100%;
      opacity: 0;
    }

    5% {
      opacity: 0.8;
    }

    100% {
      left: 200%;
      opacity: 0;
    }
  }

  /* 発光エフェクト - 赤 */
  .glow-red {
    @apply drop-shadow-[0_0_15px_rgba(239, 68, 68, 0.9)];
  }

  /* 発光エフェクト - 黄 */
  .glow-yellow {
    @apply drop-shadow-[0_0_15px_rgba(250, 204, 21, 0.9)];
  }

  /* 発光エフェクト - 緑 */
  .glow-green {
    @apply drop-shadow-[0_0_15px_rgba(34, 197, 94, 0.9)];
  }

  /* 発光エフェクト - 青 */
  .glow-blue {
    @apply drop-shadow-[0_0_15px_rgba(59, 130, 246, 0.9)];
  }

  /* グラデーションテキスト */
  .text-gradient-fire {
    @apply text-transparent bg-clip-text bg-gradient-to-br from-yellow-300 via-orange-500 to-red-600;
  }

  /* --- 新しいアニメーション定義 (from サンプル.jsx) --- */
  .animate-slam {
    animation: slam 0.6s cubic-bezier(0.17, 0.67, 0.22, 1.24) forwards;
  }

  .animate-shockwave {
    animation: shockwave 1s ease-out forwards;
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .animate-slideUpFade {
    animation: slideUpFade 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .animate-slideRightFade {
    animation: slideRightFade 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .delay-100 {
    animation-delay: 100ms;
  }

  .delay-200 {
    animation-delay: 200ms;
  }

  .delay-300 {
    animation-delay: 300ms;
  }

  .delay-400 {
    animation-delay: 400ms;
  }

  .delay-500 {
    animation-delay: 500ms;
  }

  .animate-shake {
    animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  /* === 戦闘エフェクト用ユーティリティクラス === */
  .animate-attack-line {
    animation: attack-line 0.3s ease-out forwards;
    transform-origin: left center;
  }

  .animate-hit-burst {
    animation: hit-burst 0.4s ease-out forwards;
  }

  .animate-attack-core {
    animation: attack-core 0.15s ease-out forwards;
  }

  .animate-tower-drop {
    animation: tower-drop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .animate-place-ring {
    animation: place-ring 0.5s ease-out forwards;
  }

  .animate-death-burst {
    animation: death-burst 0.5s ease-out forwards;
  }

  .animate-death-particle-1 {
    animation: death-particle-1 0.6s ease-out forwards;
  }

  .animate-death-particle-2 {
    animation: death-particle-2 0.6s ease-out forwards;
  }

  .animate-death-particle-3 {
    animation: death-particle-3 0.6s ease-out forwards;
  }

  .animate-death-particle-4 {
    animation: death-particle-4 0.6s ease-out forwards;
  }

  .animate-damage-pop {
    animation: damage-pop 0.6s ease-out forwards;
  }

  .animate-cost-pulse-up {
    animation: cost-pulse-up 0.4s ease-out;
  }

  .animate-cost-flash-down {
    animation: cost-flash-down 0.3s ease-out;
  }

  .animate-hp-danger {
    animation: hp-danger-pulse 0.5s ease-in-out infinite;
  }

  .animate-hit-flash {
    animation: hit-flash 0.12s ease-out;
  }

  .animate-jackpot {
    animation: jackpot-glow 1s ease-out forwards;
  }

  .animate-jackpot-sparkle {
    animation: jackpot-sparkle 1s ease-out forwards;
  }

  .animate-screen-shake {
    animation: screen-shake 0.12s ease-in-out;
  }
}

/* カスタムキーフレーム */
@keyframes slam {
  0% {
    transform: scale(3) translateZ(0);
    opacity: 0;
  }

  40% {
    opacity: 1;
  }

  70% {
    transform: scale(0.9) translateZ(0);
  }

  100% {
    transform: scale(1) translateZ(0);
  }
}

@keyframes shockwave {
  0% {
    transform: scale(0.5);
    opacity: 0;
    border-width: 40px;
  }

  10% {
    opacity: 0.8;
  }

  100% {
    transform: scale(3);
    opacity: 0;
    border-width: 0px;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUpFade {
  from {
    transform: translateY(40px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideRightFade {
  from {
    transform: translateX(-50px);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%) skewX(12deg);
  }

  100% {
    transform: translateX(200%) skewX(12deg);
  }
}

@keyframes shake {

  10%,
  90% {
    transform: translateX(-2px);
  }

  20%,
  80% {
    transform: translateX(4px);
  }

  30%,
  50%,
  70% {
    transform: translateX(-6px);
  }

  40%,
  60% {
    transform: translateX(6px);
  }
}

@keyframes pulse-glow {

  0%,
  100% {
    opacity: 1;
    filter: drop-shadow(0 0 10px currentColor);
  }

  50% {
    opacity: 0.8;
    filter: drop-shadow(0 0 20px currentColor);
  }
}

/* === 戦闘エフェクト用アニメーション === */

/* 攻撃線エフェクト */
@keyframes attack-line {
  0% {
    transform: scaleX(0);
    opacity: 1;
  }

  50% {
    transform: scaleX(1);
    opacity: 1;
  }

  100% {
    transform: scaleX(1);
    opacity: 0;
  }
}

/* ヒット時のバースト */
@keyframes hit-burst {
  0% {
    transform: scale(0);
    opacity: 1;
  }

  50% {
    transform: scale(1.5);
    opacity: 0.8;
  }

  100% {
    transform: scale(2);
    opacity: 0;
  }
}

/* 攻撃線中心のコア光 */
@keyframes attack-core {
  0% {
    transform: scaleX(0.2);
    opacity: 0.9;
  }

  100% {
    transform: scaleX(1);
    opacity: 0;
  }
}

/* タワー設置ドロップ */
@keyframes tower-drop {
  0% {
    transform: translateY(-50px) scale(0.5);
    opacity: 0;
  }

  60% {
    transform: translateY(5px) scale(1.1);
    opacity: 1;
  }

  80% {
    transform: translateY(-3px) scale(0.95);
  }

  100% {
    transform: translateY(0) scale(1);
  }
}

/* 設置時の衝撃波リング */
@keyframes place-ring {
  0% {
    transform: scale(0.3);
    opacity: 0.8;
    border-width: 3px;
  }

  100% {
    transform: scale(2.5);
    opacity: 0;
    border-width: 0;
  }
}

/* 敵死亡時のバースト */
@keyframes death-burst {
  0% {
    transform: scale(0.5);
    opacity: 1;
  }

  100% {
    transform: scale(3);
    opacity: 0;
  }
}

/* 敵死亡パーティクル */
@keyframes death-particle-1 {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(15px, -25px) scale(0);
    opacity: 0;
  }
}

@keyframes death-particle-2 {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(-20px, -15px) scale(0);
    opacity: 0;
  }
}

@keyframes death-particle-3 {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(10px, 20px) scale(0);
    opacity: 0;
  }
}

@keyframes death-particle-4 {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(-15px, 10px) scale(0);
    opacity: 0;
  }
}

/* ダメージ表示ポップ */
@keyframes damage-pop {
  0% {
    transform: scale(0.5) translateY(0);
    opacity: 1;
  }

  30% {
    transform: scale(1.3) translateY(-5px);
  }

  100% {
    transform: scale(1) translateY(-25px);
    opacity: 0;
  }
}

/* コスト増加パルス */
@keyframes cost-pulse-up {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.15);
    filter: brightness(1.4);
  }
}

/* コスト減少フラッシュ */
@keyframes cost-flash-down {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
    filter: brightness(0.7);
  }
}

/* HPゲージ点滅（危険時） */
@keyframes hp-danger-pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

/* ヒットフラッシュ（敵被ダメージ） */
@keyframes hit-flash {
  0% {
    filter: brightness(3);
    transform: scale(0.97);
  }

  100% {
    filter: brightness(1);
    transform: scale(1);
  }
}

/* ジャックポット演出 */
@keyframes jackpot-glow {
  0% {
    box-shadow: 0 0 0px rgba(248, 180, 0, 0.0);
  }

  50% {
    box-shadow: 0 0 20px rgba(248, 180, 0, 0.9);
  }

  100% {
    box-shadow: 0 0 0px rgba(248, 180, 0, 0.0);
  }
}

@keyframes jackpot-sparkle {
  0% {
    transform: translateY(4px) scale(0.8);
    opacity: 0;
  }

  30% {
    opacity: 1;
  }

  100% {
    transform: translateY(-12px) scale(1.2);
    opacity: 0;
  }
}

/* 画面シェイク */
@keyframes screen-shake {
  0% {
    transform: translate(2px, -2px);
  }

  25% {
    transform: translate(-2px, 2px);
  }

  50% {
    transform: translate(2px, 2px);
  }

  75% {
    transform: translate(-2px, -2px);
  }

  100% {
    transform: translate(0, 0);
  }
}

body {
  background-color: #0f172a;
  color: white;
}

/* === 新しいリッチエフェクトアニメーション === */

/* 水流（Water Stream） */
.animate-stream-flow {
  animation: stream-flow 0.5s linear infinite;
}

@keyframes stream-flow {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 100% 0%;
  }
}

/* 泡スプレー（Foam Spray） */
.animate-foam-spray {
  animation: foam-spray 0.4s ease-out forwards;
}

@keyframes foam-spray {
  0% {
    transform: scale(0.2);
    opacity: 0.8;
  }

  50% {
    opacity: 1;
  }

  100% {
    transform: scale(1.5) translateY(-10px);
    opacity: 0;
  }
}

/* ガス拡散（Gas Cloud） */
.animate-gas-expand {
  animation: gas-expand 0.6s ease-out forwards;
}

@keyframes gas-expand {
  0% {
    transform: scale(0.5);
    opacity: 0.8;
    filter: blur(2px);
  }

  100% {
    transform: scale(2.5);
    opacity: 0;
    filter: blur(8px);
  }
}

/* ネオンパルス（UI/Grid） */
.animate-neon-pulse {
  animation: neon-pulse 2s ease-in-out infinite alternate;
}

@keyframes neon-pulse {
  from {
    box-shadow: 0 0 5px currentColor, 0 0 10px currentColor;
  }

  to {
    box-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor;
  }
}

/* ダメージポップ（Extreme） */
.animate-damage-pop-extreme {
  animation: damage-pop-extreme 0.8s cubic-bezier(0.17, 0.67, 0.4, 1.2) forwards;
}

@keyframes damage-pop-extreme {
  0% {
    transform: translate(-50%, -50%) scale(0.5) rotate(-10deg);
    opacity: 0;
  }

  20% {
    transform: translate(-50%, -50%) scale(1.5) rotate(0deg);
    opacity: 1;
  }

  100% {
    transform: translate(-50%, -150%) scale(1) rotate(5deg);
    opacity: 0;
  }
}

/* 衝撃波リング（Impact Shockwave） */
.animate-shockwave-ring {
  animation: shockwave-ring 0.4s ease-out forwards;
}

@keyframes shockwave-ring {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
    border-width: 4px;
  }

  100% {
    transform: translate(-50%, -50%) scale(2.5);
    opacity: 0;
    border-width: 0;
  }
}

/* スプリンクラー回転 */
.animate-sprinkle-spin {
  animation: sprinkle-spin 2s linear infinite;
}

@keyframes sprinkle-spin {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  100% {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* レーダー/同心円拡大 */
.animate-radar-pulse {
  animation: radar-pulse 2s ease-out infinite;
}

@keyframes radar-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }

  20% {
    opacity: 0.5;
  }

  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
  }
}